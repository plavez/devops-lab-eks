# ‚úÖ Step 7 ‚Äî –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ –∫–ª–∞—Å—Ç–µ—Ä—É EKS

–í —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –∞–≤—Ç–æ—Ä–∏–∑–∏—Ä—É–µ–º—Å—è –≤ aws –¥–∞–Ω–Ω—ã–µ –∏–∑ .aws
aws configure --profile terraform_user



–ù–∞ —ç—Ç–æ–º —ç—Ç–∞–ø–µ –≤—ã –≤—ã–ø–æ–ª–Ω—è–µ—Ç–µ `terraform apply`, –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç–µ –¥–æ—Å—Ç—É–ø –∫ –∫–ª–∞—Å—Ç–µ—Ä—É –∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ.

---

## üì¶ –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —É—Å–ª–æ–≤–∏—è

- –ö–ª–∞—Å—Ç–µ—Ä EKS –∏ Node Group –æ–ø–∏—Å–∞–Ω—ã –∏ –≥–æ—Ç–æ–≤—ã –∫ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—é
- IAM —Ä–æ–ª–∏ –¥–ª—è –∫–ª–∞—Å—Ç–µ—Ä–∞ –∏ –Ω–æ–¥ —Å–æ–∑–¥–∞–Ω—ã
- AWS CLI –∏ `kubectl` —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
- AWS –ø—Ä–æ—Ñ–∏–ª—å: `terraform_user`

---

## üöÄ –®–∞–≥–∏

### 1. –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã

```bash
terraform apply
```

–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –≤–≤–æ–¥ `yes`, –∫–æ–≥–¥–∞ –±—É–¥–µ—Ç –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–æ.

---

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ kubeconfig

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ `apply`, –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –ª–æ–∫–∞–ª—å–Ω–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –∫–ª–∞—Å—Ç–µ—Ä—É:

```bash
aws eks update-kubeconfig \
  --region eu-central-1 \
  --name devops-lab-dev \
  --profile terraform_user
```

---

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –∫–ª–∞—Å—Ç–µ—Ä—É

```bash
kubectl get nodes
```

‚úÖ –û–∂–∏–¥–∞–µ—Ç—Å—è, —á—Ç–æ –≤—ã —É–≤–∏–¥–∏—Ç–µ 2 –Ω–æ–¥—ã –≤ —Å—Ç–∞—Ç—É—Å–µ `Ready`.

---

### 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ output-–ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö

```bash
terraform output
```

–í—ã–≤–æ–¥ –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å:

- `cluster_name`
- `cluster_endpoint`
- `cluster_ca`

---

### 5. –£–¥–∞–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤ (–µ—Å–ª–∏ –∫–ª–∞—Å—Ç–µ—Ä –±–æ–ª—å—à–µ –Ω–µ –Ω—É–∂–µ–Ω)

```bash
terraform destroy
```

---

## üìé –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- –í—Ä–µ–º—è —Å–æ–∑–¥–∞–Ω–∏—è EKS –∏ –Ω–æ–¥ ‚Äî ~15 –º–∏–Ω—É—Ç
- –ù–µ –æ—Å—Ç–∞–≤–ª—è–π—Ç–µ –∫–ª–∞—Å—Ç–µ—Ä –≤–∫–ª—é—á—ë–Ω–Ω—ã–º –Ω–∞–¥–æ–ª–≥–æ ‚Äî –æ–ø–ª–∞—á–∏–≤–∞—é—Ç—Å—è EC2 –∏ NAT